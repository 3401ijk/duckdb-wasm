"use strict";(self.webpackChunk_duckdb_duckdb_wasm_shell=self.webpackChunk_duckdb_duckdb_wasm_shell||[]).push([[611],{6669:(e,t,n)=>{n.d(t,{Z:()=>r});const r={root:"Lzxc7G124hzehw0l66hX",header:"JEUCXy4ULQZ8nkiW7MbY",header_title:"qUuZhoLQH2aBwGLmvwgA",close:"Pm_WhRVtzAIIboDbcrEE",file_list:"tHCIgbLejQ_W2p4nrBfe",file_list_entry:"IYmunKFYHJEGiBwfY1wq",file_list_entry_name:"RsjUbvnXqGJoX2t5GOLt",file_list_entry_size:"_wxEDRZ3bsO4aIC2xGzM",file_list_entry_action:"aYZgw91i2wOhCp_iWAf1",file_list_entry_action_toggled:"qmsETh8eN_4B614ZoY6e",no_files:"_m5qWc8R4I1gLZ60mKNT",footer_actions:"rhg7irU9YO8T_PXfVz7i",footer_label:"fUZupb9T2o_nRU_LBIBO",footer_action:"JxiiD0Eq6oDbM4EcspIh"}},8308:(e,t,n)=>{n.d(t,{Z:()=>r});const r={root:"dlwp5qorWA6FPwSTg_D3",resizer:"ElCSJT7_F2gJZKDXqf2C",term_container:"sce6WyXvM3gkopp8HHTz"}},1194:()=>{},2289:(e,t,n)=>{n.a(e,(async r=>{n.d(t,{$Z:()=>x,NK:()=>D,Gu:()=>P,SI:()=>U,UI:()=>j,gs:()=>W,gy:()=>B,Ve:()=>G,y1:()=>H,fc:()=>Y,Z_:()=>K,ie:()=>z,NP:()=>Z,h3:()=>Q,DW:()=>q,bK:()=>V,GR:()=>X,po:()=>J,R0:()=>$,X3:()=>ee,vq:()=>te,JO:()=>ne,Pv:()=>re,Ub:()=>ae,aU:()=>oe,FN:()=>ie,f4:()=>se,O2:()=>ce,ug:()=>ue,jo:()=>le,aH:()=>_e,yj:()=>de,bM:()=>fe,fF:()=>be,Ou:()=>me,zd:()=>pe,Wk:()=>he,u4:()=>we,c7:()=>ye,MH:()=>Ee,z5:()=>ge,y2:()=>ve,W4:()=>Re,wI:()=>Se,ly:()=>Te,bL:()=>Ie,if:()=>Fe,$M:()=>ke,wE:()=>Ne,WY:()=>Oe,PT:()=>Ce,oM:()=>Le,gk:()=>Ae,VL:()=>xe,m_:()=>De,Yr:()=>Pe,Mb:()=>Ue,KI:()=>Me,G6:()=>je,Bu:()=>We,Am:()=>Be,PF:()=>Ge,xF:()=>He,u3:()=>Ye,wi:()=>Ke,dJ:()=>ze,SO:()=>Ze,Dp:()=>Qe,ZH:()=>qe,Pb:()=>Ve,Re:()=>Xe,b1:()=>Je,s8:()=>$e,pV:()=>et,OK:()=>tt,WD:()=>nt,Q_:()=>rt,Gx:()=>at,mR:()=>ot,Zo:()=>it,Fp:()=>st,qw:()=>ct,V8:()=>ut,MY:()=>lt,UL:()=>_t,tw:()=>dt,xX:()=>ft,Y4:()=>bt,Xb:()=>mt,g1:()=>pt,KA:()=>ht,tS:()=>wt,R$:()=>yt,md:()=>Et,IF:()=>gt,XP:()=>vt,zP:()=>Rt,uQ:()=>St,td:()=>Tt,Ct:()=>It,M1:()=>Ft,qt:()=>kt,fY:()=>Nt,Or:()=>Ot,nD:()=>Ct,oH:()=>Lt,TA:()=>At,E5:()=>xt});var a=n(4144),o=n(6386),i=n(4572),s=n(5261),c=n(6361),u=n(8968);e=n.hmd(e);var l=r([u]);u=(l.then?await l:l)[0];const _=new Array(32).fill(void 0);function d(e){return _[e]}_.push(void 0,null,!0,!1);let f=_.length;function b(e){const t=d(e);return function(e){e<36||(_[e]=f,f=e)}(e),t}function m(e){f===_.length&&_.push(_.length+1);const t=f;return f=_[t],_[t]=e,t}function p(e){return null==e}let h=null,w=null;function y(){return null!==w&&w.buffer===u.memory.buffer||(w=new Int32Array(u.memory.buffer)),w}let E=0,g=null;function v(){return null!==g&&g.buffer===u.memory.buffer||(g=new Uint8Array(u.memory.buffer)),g}let R=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const S="function"==typeof R.encodeInto?function(e,t){return R.encodeInto(e,t)}:function(e,t){const n=R.encode(e);return t.set(n),{read:e.length,written:n.length}};function T(e,t,n){if(void 0===n){const n=R.encode(e),r=t(n.length);return v().subarray(r,r+n.length).set(n),E=n.length,r}let r=e.length,a=t(r);const o=v();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length);const t=v().subarray(a+i,a+r);i+=S(e,t).written}return E=i,a}function I(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=I(e[0]));for(let r=1;r<t;r++)n+=", "+I(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}let F=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function k(e,t){return F.decode(v().subarray(e,e+t))}function N(e,t,n,r){const a={a:e,b:t,cnt:1,dtor:n},o=(...e)=>{a.cnt++;const t=a.a;a.a=0;try{return r(t,a.b,...e)}finally{0==--a.cnt?u.__wbindgen_export_2.get(a.dtor)(t,a.b):a.a=t}};return o.original=a,o}function O(e,t,n){return 0!==u._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hecd6749b53f3fae0(e,t,m(n))}function C(e,t,n){u._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h4581b6bd5fdc54dc(e,t,m(n))}F.decode();let L=null;function A(e,t){try{return e.apply(this,t)}catch(e){u.__wbindgen_exn_store(m(e))}}function x(e,t,n){u.embed(m(e),m(t),m(n))}function D(e){var t=T(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=E;u.writeln(t,n)}function P(e,t){var n=T(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=E;u.collectFileStatistics(n,r,t)}function U(e,t){u.resize(e,t)}let M=32;function j(e,t){try{u.loadHistory(function(e){if(1==M)throw new Error("out of js stack");return _[--M]=e,M}(e),t)}finally{_[M++]=void 0}}function W(e){return b(u.configureDatabase(m(e)))}function B(e){return b(u.resumeAfterInput(e))}Object.freeze({Width0:0,0:"Width0",Width1:1,1:"Width1",Width2:2,2:"Width2"});const G=Object.freeze({FileInput:0,0:"FileInput"});function H(e,t){d(e).cursorBlink=0!==t}function Y(e,t){d(e).cursorWidth=t>>>0}function K(e,t){d(e).drawBoldTextInBrightColors=0!==t}function z(e,t){d(e).fontSize=t>>>0}function Z(e,t){d(e).rightClickSelectsWord=0!==t}function Q(e,t){d(e).rows=t>>>0}function q(e,t){d(e).theme=d(t)}function V(e,t,n){d(e).foreground=k(t,n)}function X(e,t,n){d(e).background=k(t,n)}function J(e,t,n){d(e).brightYellow=k(t,n)}function $(e){return m(new o.Terminal(d(e)))}function ee(e){return d(e).cols}function te(e){d(e).focus()}function ne(e,t){d(e).open(b(t))}function re(e,t){d(e).attachCustomKeyEventHandler(d(t))}function ae(e,t,n){d(e).write(k(t,n))}function oe(e,t,n,r){d(e).setOption(k(t,n),b(r))}function ie(e,t){d(e).loadAddon(b(t))}function se(e,t){var n=function(e,t){const n=t(4*e.length);return(null!==L&&L.buffer===u.memory.buffer||(L=new Uint32Array(u.memory.buffer)),L).set(e,n/4),E=e.length,n}(d(t).offsets,u.__wbindgen_malloc),r=E;y()[e/4+1]=r,y()[e/4+0]=n}function ce(e,t){var n=function(e,t){const n=t(1*e.length);return v().set(e,n/1),E=e.length,n}(d(t).types,u.__wbindgen_malloc),r=E;y()[e/4+1]=r,y()[e/4+0]=n}function ue(e){b(e)}function le(e){return d(e)instanceof s.WebLinksAddon}function _e(e){return d(e)instanceof c.WebglAddon}function de(e){var t=T(a.dj,u.__wbindgen_malloc,u.__wbindgen_realloc),n=E;y()[e/4+1]=n,y()[e/4+0]=t}function fe(e){var t=T(a.ll,u.__wbindgen_malloc,u.__wbindgen_realloc),n=E;y()[e/4+1]=n,y()[e/4+0]=t}function be(e){return d(e).bigInt64Array}function me(e){return d(e).wasmThreads}function pe(e){return d(e).wasmExceptions}function he(e){return d(e).wasmSIMD}function we(e){return d(e).wasmBulkMemory}function ye(e){return d(e).crossOriginIsolated}function Ee(){return A((function(e){return m(d(e).getVersion())}),arguments)}function ge(){return A((function(e,t,n,r){return m(d(e).collectFileStatistics(k(t,n),0!==r))}),arguments)}function ve(){return A((function(e){return m(d(e).connectInternal())}),arguments)}function Re(){return A((function(e){return m(d(e).getFeatureFlags())}),arguments)}function Se(){return A((function(e,t,n){return m(d(e).open(k(t,n)))}),arguments)}function Te(){return A((function(){return m((0,a.Tq)())}),arguments)}function Ie(){return A((function(e,t){return m(d(e).disconnect(t>>>0))}),arguments)}function Fe(){return A((function(e){return m(d(e).readClipboardText())}),arguments)}function ke(){return A((function(e,t,n){return m(d(e).pushInputToHistory(k(t,n)))}),arguments)}function Ne(){return A((function(e,t,n,r){return m(d(e).runQuery(t>>>0,k(n,r)))}),arguments)}function Oe(){return A((function(e,t,n){return m(d(e).tokenize(k(t,n)))}),arguments)}function Ce(){return A((function(e,t,n){return m(d(e).exportFileStatistics(k(t,n)))}),arguments)}function Le(e,t){var n=T(d(t).backgroundColor,u.__wbindgen_malloc,u.__wbindgen_realloc),r=E;y()[e/4+1]=r,y()[e/4+0]=n}function Ae(e){return d(e).withWebGL}function xe(e){return m(new c.WebglAddon(16777215===e?void 0:0!==e))}function De(e){return m(d(e))}function Pe(e,t,n){return m(new s.WebLinksAddon(d(e),d(t),16777215===n?void 0:0!==n))}function Ue(){return m(new i.FitAddon)}function Me(e){d(e).fit()}function je(e){const t=b(e).original;return 1==t.cnt--&&(t.a=0,!0)}function We(e,t){console.log(k(e,t))}function Be(e,t){console.error(k(e,t))}function Ge(e,t){console.warn(k(e,t))}function He(e){return m(d(e).blockStats)}function Ye(e){return m(d(e).totalFileWrites)}function Ke(e){return m(d(e).totalFileReadsAhead)}function ze(e){return m(d(e).totalFileReadsCold)}function Ze(e){return m(d(e).totalFileReadsCached)}function Qe(e){return m(d(e).totalPageAccesses)}function qe(e){return m(d(e).totalPageLoads)}function Ve(e){return m(d(e).blockSize)}function Xe(e){d(e).openFileExplorer()}function Je(e,t,n){d(e).updateFileInfo(k(t,n))}function $e(e){return d(e)instanceof Window}function et(e){var t=d(e).performance;return p(t)?0:m(t)}function tt(e){return d(e).now()}function nt(e,t){var n=T(d(t).type,u.__wbindgen_malloc,u.__wbindgen_realloc),r=E;y()[e/4+1]=r,y()[e/4+0]=n}function rt(e){return d(e).ctrlKey}function at(e){return d(e).metaKey}function ot(e,t){var n=T(d(t).key,u.__wbindgen_malloc,u.__wbindgen_realloc),r=E;y()[e/4+1]=r,y()[e/4+0]=n}function it(e,t){return m(d(e)[t>>>0])}function st(e){return d(e).length}function ct(){return A((function(e,t){return m(d(e).call(d(t)))}),arguments)}function ut(e,t){return m(new Error(k(e,t)))}function lt(e){return m(d(e).message)}function _t(e,t){return m(new Function(k(e,t)))}function dt(){return A((function(e,t,n){return m(d(e).call(d(t),d(n)))}),arguments)}function ft(){return m(new Object)}function bt(e,t){try{var n={a:e,b:t},r=new Promise(((e,t)=>{const r=n.a;n.a=0;try{return function(e,t,n,r){u.wasm_bindgen__convert__closures__invoke2_mut__h8761874db31790ab(e,t,m(n),m(r))}(r,n.b,e,t)}finally{n.a=r}}));return m(r)}finally{n.a=n.b=0}}function mt(e){return m(Promise.resolve(d(e)))}function pt(e,t){return m(d(e).then(d(t)))}function ht(e,t,n){return m(d(e).then(d(t),d(n)))}function wt(){return A((function(){return m(self.self)}),arguments)}function yt(){return A((function(){return m(window.window)}),arguments)}function Et(){return A((function(){return m(globalThis.globalThis)}),arguments)}function gt(){return A((function(){return m(n.g.global)}),arguments)}function vt(e){return void 0===d(e)}function Rt(e){return m(d(e).buffer)}function St(e){return d(e).length}function Tt(e){return m(new Uint8Array(d(e)))}function It(e,t,n){d(e).set(d(t),n>>>0)}function Ft(e,t){const n=d(t);var r="number"==typeof n?n:void 0;(null!==h&&h.buffer===u.memory.buffer||(h=new Float64Array(u.memory.buffer)),h)[e/8+1]=p(r)?0:r,y()[e/4+0]=!p(r)}function kt(e,t){const n=d(t);var r="string"==typeof n?n:void 0,a=p(r)?0:T(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=E;y()[e/4+1]=o,y()[e/4+0]=a}function Nt(e,t){var n=T(I(d(t)),u.__wbindgen_malloc,u.__wbindgen_realloc),r=E;y()[e/4+1]=r,y()[e/4+0]=n}function Ot(e,t){throw new Error(k(e,t))}function Ct(e){throw b(e)}function Lt(){return m(u.memory)}function At(e,t,n){return m(N(e,t,62,O))}function xt(e,t,n){return m(N(e,t,105,C))}}))},4144:(e,t,n)=>{n.d(t,{ak:()=>F,kw:()=>S,dj:()=>N,ll:()=>O,Tq:()=>U,Dn:()=>M});var r,a,o,i,s,c,u,l,_,d,f,b,m,p,h=n(9963),w=n(2832);function y(e,t){switch(t.typeId){case h.Dy.Binary:return{name:e,type:"binary"};case h.Dy.Bool:return{name:e,type:"bool"};case h.Dy.Date:return{name:e,type:"date"};case h.Dy.DateDay:return{name:e,type:"date32[d]"};case h.Dy.DateMillisecond:return{name:e,type:"date64[ms]"};case h.Dy.Decimal:{let n=t;return{name:e,type:"decimal",precision:n.precision,scale:n.scale}}case h.Dy.Float:return{name:e,type:"float"};case h.Dy.Float16:return{name:e,type:"float16"};case h.Dy.Float32:return{name:e,type:"float32"};case h.Dy.Float64:return{name:e,type:"float64"};case h.Dy.Int:return{name:e,type:"int32"};case h.Dy.Int16:return{name:e,type:"int16"};case h.Dy.Int32:return{name:e,type:"int32"};case h.Dy.Int64:return{name:e,type:"int64"};case h.Dy.Uint16:return{name:e,type:"uint16"};case h.Dy.Uint32:return{name:e,type:"uint32"};case h.Dy.Uint64:return{name:e,type:"uint64"};case h.Dy.Uint8:return{name:e,type:"uint8"};case h.Dy.IntervalDayTime:return{name:e,type:"interval[dt]"};case h.Dy.IntervalYearMonth:return{name:e,type:"interval[m]"};case h.Dy.List:{let n=t;return{name:e,type:"list",children:[y(n.valueField.name,n.valueField.type)]}}case h.Dy.FixedSizeBinary:return{name:e,type:"fixedsizebinary",byteWidth:t.byteWidth};case h.Dy.Null:return{name:e,type:"null"};case h.Dy.Utf8:return{name:e,type:"utf8"};case h.Dy.Struct:return{name:e,type:"struct",children:t.children.map((e=>y(e.name,e.type)))};case h.Dy.Time:return{name:e,type:"time[s]"};case h.Dy.TimeMicrosecond:return{name:e,type:"time[us]"};case h.Dy.TimeMillisecond:return{name:e,type:"time[ms]"};case h.Dy.TimeNanosecond:return{name:e,type:"time[ns]"};case h.Dy.TimeSecond:return{name:e,type:"time[s]"};case h.Dy.Timestamp:return{name:e,type:"timestamp",timezone:t.timezone||void 0};case h.Dy.TimestampSecond:return{name:e,type:"timestamp[s]",timezone:t.timezone||void 0};case h.Dy.TimestampMicrosecond:return{name:e,type:"timestamp[us]",timezone:t.timezone||void 0};case h.Dy.TimestampNanosecond:return{name:e,type:"timestamp[ns]",timezone:t.timezone||void 0};case h.Dy.TimestampMillisecond:return{name:e,type:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error(`unsupported arrow type: ${t.toString()}`)}Symbol.iterator,(a=r||(r={}))[a.SUCCESS=0]="SUCCESS",new TextDecoder,(i=o||(o={}))[i.BUFFER=0]="BUFFER",i[i.NATIVE=1]="NATIVE",i[i.HTTP=3]="HTTP",(c=s||(s={}))[c.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",c[c.WASM_THREADS=2]="WASM_THREADS",c[c.WASM_SIMD=4]="WASM_SIMD",c[c.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",c[c.EMIT_BIGINT=16]="EMIT_BIGINT",(l=u||(u={})).ROW_ARRAY="row-array",l.COLUMN_OBJECT="column-object",function(e){e[e.APPEND=0]="APPEND",e[e.IMPORT=1]="IMPORT"}(_||(_={})),function(e){e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(d||(d={})),function(e){e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY"}(f||(f={})),(m=b||(b={}))[m.NONE=0]="NONE",m[m.OK=1]="OK",m[m.ERROR=2]="ERROR",m[m.START=3]="START",m[m.RUN=4]="RUN",m[m.CAPTURE=5]="CAPTURE",function(e){e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB"}(p||(p={}));var E,g,v,R,S=class{log(e){console.log(e)}},T=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return null!=this._inFlight?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=0==e.length,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}};(g=E||(E={})).COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",g.CONNECT="CONNECT",g.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",g.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",g.DISCONNECT="DISCONNECT",g.DROP_FILE="DROP_FILE",g.DROP_FILES="DROP_FILES",g.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",g.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",g.FLUSH_FILES="FLUSH_FILES",g.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",g.GET_VERSION="GET_VERSION",g.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",g.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",g.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",g.INSTANTIATE="INSTANTIATE",g.OPEN="OPEN",g.PING="PING",g.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",g.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",g.REGISTER_FILE_URL="REGISTER_FILE_URL",g.RESET="RESET",g.RUN_QUERY="RUN_QUERY",g.SEND_QUERY="SEND_QUERY",g.TOKENIZE="TOKENIZE",(R=v||(v={})).CONNECTION_INFO="CONNECTION_INFO",R.ERROR="ERROR",R.FEATURE_FLAGS="FEATURE_FLAGS",R.FILE_BUFFER="FILE_BUFFER",R.FILE_SIZE="FILE_SIZE",R.FILE_STATISTICS="FILE_STATISTICS",R.LOG="LOG",R.OK="OK",R.QUERY_PLAN="QUERY_PLAN",R.QUERY_RESULT="QUERY_RESULT",R.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",R.QUERY_START="QUERY_START",R.REGISTERED_FILE="REGISTERED_FILE",R.SCRIPT_TOKENS="SCRIPT_TOKENS",R.SUCCESS="SUCCESS",R.VERSION_STRING="VERSION_STRING";var I=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise(((e,t)=>{this.promiseResolver=e,this.promiseRejecter=t}))}},F=class{constructor(e,t=null){this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),null!=t&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise(((e,t)=>{this._workerShutdownResolver=e}))}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker)return void console.error("cannot send a message since the worker is not set!");let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data}),await e.promise}onMessage(e){let t=e.data;t.type==v.LOG&&this._logger.log(t.data);let n=this._pendingRequests.get(t.requestId);if(n){if(this._pendingRequests.delete(t.requestId),t.type==v.ERROR){let e=new Error(t.data.message);return e.name=t.data.name,e.stack=t.data.stack,void n.promiseRejecter(e)}switch(n.type){case E.COLLECT_FILE_STATISTICS:case E.COPY_FILE_TO_PATH:case E.DISCONNECT:case E.DROP_FILES:case E.FLUSH_FILES:case E.INSERT_ARROW_FROM_IPC_STREAM:case E.INSERT_CSV_FROM_PATH:case E.INSERT_JSON_FROM_PATH:case E.INSTANTIATE:case E.OPEN:case E.PING:case E.REGISTER_FILE_BUFFER:case E.REGISTER_FILE_HANDLE:case E.REGISTER_FILE_URL:case E.RESET:if(t.type==v.OK)return void n.promiseResolver(t.data);break;case E.GET_VERSION:if(t.type==v.VERSION_STRING)return void n.promiseResolver(t.data);break;case E.GET_FEATURE_FLAGS:if(t.type==v.FEATURE_FLAGS)return void n.promiseResolver(t.data);break;case E.TOKENIZE:if(t.type==v.SCRIPT_TOKENS)return void n.promiseResolver(t.data);break;case E.DROP_FILE:if(t.type==v.SUCCESS)return void n.promiseResolver(t.data);break;case E.COPY_FILE_TO_BUFFER:if(t.type==v.FILE_BUFFER)return void n.promiseResolver(t.data);break;case E.EXPORT_FILE_STATISTICS:if(t.type==v.FILE_STATISTICS)return void n.promiseResolver(t.data);break;case E.CONNECT:if(t.type==v.CONNECTION_INFO)return void n.promiseResolver(t.data);break;case E.RUN_QUERY:if(t.type==v.QUERY_RESULT)return void n.promiseResolver(t.data);break;case E.SEND_QUERY:if(t.type==v.QUERY_START)return void n.promiseResolver(t.data);break;case E.FETCH_QUERY_RESULTS:if(t.type==v.QUERY_RESULT_CHUNK)return void n.promiseResolver(t.data)}n.promiseRejecter(new Error(`unexpected response type: ${t.type.toString()}`))}else console.warn(`unassociated response: [${t.requestId}, ${t.type.toString()}]`)}onError(e){console.error(e),console.error(`error in duckdb worker: ${e.message}`),this._pendingRequests.clear()}onClose(){this._workerShutdownResolver(null),0==this._pendingRequests.size?this._pendingRequests.clear():console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`)}async reset(){let e=new I(E.RESET,null);return await this.postTask(e)}async ping(){let e=new I(E.PING,null);await this.postTask(e)}async dropFile(e){let t=new I(E.DROP_FILE,e);return await this.postTask(t)}async dropFiles(){let e=new I(E.DROP_FILES,null);return await this.postTask(e)}async flushFiles(){let e=new I(E.FLUSH_FILES,null);return await this.postTask(e)}async instantiate(e,t=null){let n=new I(E.INSTANTIATE,[e,t]);return await this.postTask(n)}async getVersion(){let e=new I(E.GET_VERSION,null);return await this.postTask(e)}async getFeatureFlags(){let e=new I(E.GET_FEATURE_FLAGS,null);return await this.postTask(e)}async open(e){let t=new I(E.OPEN,e);await this.postTask(t)}async tokenize(e){let t=new I(E.TOKENIZE,e);return await this.postTask(t)}async connectInternal(){let e=new I(E.CONNECT,null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new class{constructor(e,t){this._instance=e,this._conn=t}get instance(){return this._instance}async close(){return this._instance.disconnect(this._conn)}async runQuery(e){this._instance.logger.log({timestamp:new Date,level:d.INFO,origin:p.ASYNC_DUCKDB,topic:f.QUERY,event:b.RUN,value:e});let t=await this._instance.runQuery(this._conn,e),n=h.so.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),h.iA.from(n)}async sendQuery(e){this._instance.logger.log({timestamp:new Date,level:d.INFO,origin:p.ASYNC_DUCKDB,topic:f.QUERY,event:b.RUN,value:e});let t=await this._instance.sendQuery(this._conn,e),n=new T(this._instance,this._conn,t),r=await h.so.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async insertArrowTable(e,t){0==e.schema.fields.length&&console.warn("The schema is empty! If you used arrow.Table.from, consider constructing schema and batches manually"),await this.insertArrowBatches(e.schema,e.chunks,t)}async insertArrowBatches(e,t,n){let r=new h.E2,a=(new h.t_).reset(r,e);a.writeAll(t),a.close();let o=a.toUint8Array(!0);await this._instance.insertArrowFromIPCStream(this._conn,o,n)}async insertCSVFromPath(e,t){await this._instance.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._instance.insertJSONFromPath(this._conn,e,t)}}(this,e)}async disconnect(e){let t=new I(E.DISCONNECT,e);await this.postTask(t)}async runQuery(e,t){let n=new I(E.RUN_QUERY,[e,t]);return await this.postTask(n)}async sendQuery(e,t){let n=new I(E.SEND_QUERY,[e,t]);return await this.postTask(n)}async fetchQueryResults(e){let t=new I(E.FETCH_QUERY_RESULTS,e);return await this.postTask(t)}async registerFileURL(e,t){void 0===t&&(t=e);let n=new I(E.REGISTER_FILE_URL,[e,t]);await this.postTask(n)}async registerEmptyFileBuffer(e){let t=new I(E.REGISTER_FILE_BUFFER,[e,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(e,t){let n=new I(E.REGISTER_FILE_BUFFER,[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t){let n=new I(E.REGISTER_FILE_HANDLE,[e,t]);await this.postTask(n,[])}async collectFileStatistics(e,t){let n=new I(E.COLLECT_FILE_STATISTICS,[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new I(E.EXPORT_FILE_STATISTICS,e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new I(E.COPY_FILE_TO_BUFFER,e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new I(E.COPY_FILE_TO_PATH,[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){let r=new I(E.INSERT_ARROW_FROM_IPC_STREAM,[e,t,n]);await this.postTask(r,[t.buffer])}async insertCSVFromPath(e,t,n){if(void 0!==n.columns){let e=[];for(let t in n.columns){let r=n.columns[t];e.push(y(t,r))}n.columnsFlat=e,delete n.columns}let r=new I(E.INSERT_CSV_FROM_PATH,[e,t,n]);await this.postTask(r)}async insertJSONFromPath(e,t,n){if(void 0!==n.columns){let e=[];for(let t in n.columns){let r=n.columns[t];e.push(y(t,r))}n.columnsFlat=e,delete n.columns}let r=new I(E.INSERT_JSON_FROM_PATH,[e,t,n]);await this.postTask(r)}},k={name:"@duckdb/duckdb-wasm",version:"0.0.41-dev235.0",description:"DuckDB powered by WebAssembly",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},license:"MIT",dependencies:{"apache-arrow":"^4.0.0","wasm-feature-detect":"^1.2.11"},devDependencies:{"@types/emscripten":"^1.39.4","@types/jasmine":"^3.9.1","@typescript-eslint/eslint-plugin":"^4.33.0","@typescript-eslint/parser":"^4.33.0",esbuild:"^0.13.4",eslint:"^7.32.0","eslint-config-prettier":"^8.3.0","eslint-plugin-jasmine":"^4.1.2","eslint-plugin-prettier":"^4.0.0","eslint-plugin-react":"^7.26.1",jasmine:"3.9.0","jasmine-core":"^3.8.0","jasmine-spec-reporter":"^7.0.0",karma:"^6.3.4","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-jasmine":"^4.0.1","karma-jasmine-html-reporter":"^1.7.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.32","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.4.1",puppeteer:"^10.4.0",rimraf:"^3.0.2",typedoc:"^0.22.5",typescript:"^4.4.3","web-worker":"^1.1.0"},optionalDependencies:{fsevents:"*"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.js","test:node:filter":'node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.js --filter="CSV"',"test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.js","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browsers":"karma start ./karma/tests-all.cjs","test:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test types"},files:["dist","!dist/types/test"],main:"./dist/duckdb-node-async.js",types:"./dist/duckdb-node-async.d.ts",module:"./dist/duckdb-esm.js",browser:{"./dist/duckdb-node-async.js":"./dist/duckdb-browser-async.js","temp-write":!1,worker_threads:!1,perf_hooks:!1,fs:!1,os:!1,path:!1,buffer:!1,crypto:!1}},N=k.name,O=k.version,C=k.version.split(".");C[0],C[1],C[2];var L=null,A=null,x=null,D=null,P=null;async function U(){return null==L&&(L="undefined"!=typeof BigInt64Array),null==A&&(A=await(0,w.Wy)()),null==x&&(x=await(0,w.C6)()),null==D&&(D=await(0,w.h4)()),null==P&&(P=await(0,w.uv)()),{bigInt64Array:L,crossOriginIsolated:"undefined"!=typeof process&&"node"===process.release.name||globalThis.crossOriginIsolated||!1,wasmExceptions:A,wasmSIMD:D,wasmThreads:x,wasmBulkMemory:P}}async function M(e){let t=await U();if(t.wasmExceptions&&t.wasmSIMD){if(t.wasmThreads&&t.crossOriginIsolated&&e.asyncNextCOI)return{mainModule:e.asyncNextCOI.mainModule,mainWorker:e.asyncNextCOI.mainWorker,pthreadWorker:e.asyncNextCOI.pthreadWorker};if(e.asyncNext)return{mainModule:e.asyncNext.mainModule,mainWorker:e.asyncNext.mainWorker,pthreadWorker:null}}return{mainModule:e.asyncDefault.mainModule,mainWorker:e.asyncDefault.mainWorker,pthreadWorker:null}}},2611:(e,t,n)=>{n.a(e,(async e=>{var t=n(9145),r=n(5528),a=n(9542),o=n(2097),i=n(1242),s=n(4724),c=n(636),u=n(4309),l=(n(1194),n(4144)),_=n(9117),d=n(6795),f=n(5079),b=e([a,o]);[a,o]=b.then?await b:b;var m={asyncDefault:{mainModule:_,mainWorker:new URL(n(7369),n.b).toString()},asyncNext:{mainModule:d,mainWorker:new URL(n(5202),n.b).toString()},asyncNextCOI:{mainModule:f,mainWorker:new URL(n(7780),n.b).toString(),pthreadWorker:new URL(n(9161),n.b).toString()}};function p(){return e=this,t=void 0,r=function(){var e,t,n,r;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return[4,l.Dn(m)];case 1:return e=a.sent(),t=new Worker(e.mainWorker),n=new l.kw,[4,(r=new l.ak(n,t)).instantiate(e.mainModule,e.pthreadWorker)];case 2:return a.sent(),[2,r]}}))},new((n=void 0)||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}var h=(0,c.c)((0,u.F)((function(){return t.createElement(o.N,{resolveDatabase:p,padding:[16,0,0,20],backgroundColor:"#333"})}))),w=document.getElementById("root");r.render(t.createElement(a.nI,null,t.createElement(a.on,null,t.createElement(i.VK,null,t.createElement(s.AW,{component:h})))),w)}))},4309:(e,t,n)=>{n.d(t,{F:()=>i});var r=n(9145);var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},o=function(e){return r.createElement("div",{className:"GdniiP1lLbIE9yudInip"},r.createElement("span",{className:"_l4zAD4tg87x15t7KFd0"},"CAUTION:"),r.createElement("span",{className:"AFoQiSUbWD08NCuNNZ4f"},"Alpha-quality software in the wild! Talk to us"),r.createElement("a",{className:"OM7YboE8lthuoVdxzq0t",target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/discussions",rel:"noreferrer"},"here"))};function i(e){return function(t){return r.createElement("div",{className:"DsNpF7cZ9pKfXRvTemcT"},r.createElement(o,null),r.createElement("div",{className:"oColXY_f1mKpwrtFZplp"},r.createElement(e,a({},t))))}}},157:(e,t,n)=>{n.a(e,(async e=>{n.d(t,{e:()=>m});var r=n(9542),a=n(2289),o=n(3730),i=n(9145),s=n(7271),c=n.n(s),u=n(6669),l=n(356),_=n(4734),d=n(526),f=n(329),b=e([r,a]);[r,a]=b.then?await b:b;var m=function(e){var t=i.useRef(null),n=r.Md(),s=r.qj(),b=function(){return n({type:r.U_,data:null})};return i.createElement("div",{className:u.Z.root},i.createElement("div",{className:u.Z.header},i.createElement("div",{className:u.Z.header_title},"Files"),i.createElement("div",{className:u.Z.close,onClick:b},i.createElement("svg",{width:"20px",height:"20px"},i.createElement("use",{xlinkHref:_+"#sym"})))),i.createElement("div",{className:u.Z.file_list},s.files.toArray().map((function(e){return t=e[1],i.createElement("div",{key:t.name,className:u.Z.file_list_entry},i.createElement("div",{className:u.Z.file_list_entry_name},t.name),i.createElement("div",{className:u.Z.file_list_entry_size},(0,l.td)(t.size||0)),i.createElement("div",{className:c()((n={},n[u.Z.file_list_entry_action]=!t.fileStatsEnabled,n[u.Z.file_list_entry_action_toggled]=t.fileStatsEnabled,n)),onClick:function(){return a.Gu(t.name,!t.fileStatsEnabled)}},i.createElement("svg",{width:"18px",height:"18px"},i.createElement("use",{xlinkHref:d+"#sym"}))),i.createElement("div",{className:u.Z.file_list_entry_action},i.createElement("svg",{width:"20px",height:"20px"},i.createElement("use",{xlinkHref:f+"#sym"}))));var t,n})),0==s.files.size&&i.createElement("div",{className:u.Z.no_files},"No files registered")),i.createElement("div",{className:u.Z.footer_actions},i.createElement(o.Z,{className:u.Z.footer_action,variant:"primary",size:"sm",onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.click()}},i.createElement("input",{ref:t,onChange:function(t){e.addLocalFiles(t.target.files)},type:"file",style:{display:"none"}}),"Local File"),i.createElement(o.Z,{className:u.Z.footer_action,variant:"primary",size:"sm",onClick:b,disabled:!0},"HTTP File")))}}))},636:(e,t,n)=>{n.d(t,{c:()=>m});var r=n(9145),a=n(7271),o=n.n(a),i=n(1242),s=n(4724);const c={container:"IKcFpH7Lkr3aJQi2H2ah",navbar:"di3zfPD9Y9HxjDT8O98h",tabs:"BLZdBzFDdaQSOMmwd9Bp",logo:"jy422jqzSx9yptlctBS8",tabNavbar:"k1ukUDCnZEfhO_cG4VsS",tab:"_6em2Xl4wLvWBsHTwLrG",tabButton:"_kDRZ1nOHLqJ_6yI7FkI",active:"nJMzX5k_4knd_nZZ3gdQ"};var u=n(6513),l=n(9643),_=n(2593),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},f=function(e){var t;return r.createElement("div",{key:e.route,className:o()(c.tab,(t={},t[c.active]=e.location==e.route,t))},e.external?r.createElement("a",{href:e.route,target:"blank"},r.createElement("div",{className:c.tabButton},r.createElement("svg",{className:c.tabIcon,width:"18px",height:"18px"},r.createElement("use",{xlinkHref:e.icon+"#sym"})))):r.createElement(i.rU,{to:e.route},r.createElement("div",{className:c.tabButton},r.createElement("svg",{className:c.tabIcon,width:"18px",height:"18px"},r.createElement("use",{xlinkHref:e.icon+"#sym"})))))},b=function(e){var t=(0,s.TH)();return r.createElement("div",{className:c.navbar},r.createElement("div",{className:c.logo},r.createElement("svg",{width:"32px",height:"32px"},r.createElement("use",{xlinkHref:u+"#sym"}))),r.createElement("div",{className:c.tabs},r.createElement(f,{route:"./",location:t.pathname,icon:l}),r.createElement(f,{route:"docs/modules/index.html",location:t.pathname,icon:_,external:!0})))};function m(e){return function(t){return r.createElement("div",{className:c.container},r.createElement(b,null),r.createElement("div",{className:c.page},r.createElement(e,d({},t))))}}},8255:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(9145);var a=n(4310),o=n(1610),i=function(e){return r.createElement(a.M,null,r.createElement(o.E.div,{className:"GIiBJwSV3Ojs4BOz_1v1",initial:{backgroundColor:"rgba(0,0,0,0.2)"},animate:{backgroundColor:"rgba(0,0,0,0.6)"},transition:{duration:.2}},r.createElement(o.E.div,{className:"nOLVtha_wBuYTtU_vBDl",initial:{translateY:80},animate:{translateY:0},transition:{duration:.2}},e.children)))}},7644:(e,t,n)=>{n.d(t,{sg:()=>s,SI:()=>c,nI:()=>d,qj:()=>f,RI:()=>b});var r=n(9145),a=n(6149),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i={files:a.ZP.Map()},s=Symbol("UPDATE_FILE_INFO"),c=Symbol("REGISTER_FILES"),u=function(e,t){switch(t.type){case s:return o(o({},e),{files:e.files.withMutations((function(e){var n=e.get(t.data.name);n?e.set(t.data.name,o(o({},n),t.data)):e.set(t.data.name,o({url:null,size:null,fileStatsEnabled:!1},t.data))}))});case c:return o(o({},e),{files:e.files.withMutations((function(e){var n,r;try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.data),o=a.next();!o.done;o=a.next()){var i=o.value;e.set(i.name,i)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}))})}},l=r.createContext(i),_=r.createContext((function(){})),d=function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useReducer(u,i),2),n=t[0],a=t[1];return r.createElement(l.Provider,{value:n},r.createElement(_.Provider,{value:a},e.children))},f=function(){return r.useContext(l)},b=function(){return r.useContext(_)}},9542:(e,t,n)=>{n.a(e,(async e=>{n.d(t,{nI:()=>r.nI,SI:()=>r.SI,sg:()=>r.sg,qj:()=>r.qj,RI:()=>r.RI,U_:()=>a.U_,Q6:()=>a.Q6,Pj:()=>a.Pj,on:()=>a.on,su:()=>a.su,Md:()=>a.Md});var r=n(7644),a=n(7749),o=e([a]);a=(o.then?await o:o)[0]}))},7749:(e,t,n)=>{n.a(e,(async e=>{n.d(t,{Pj:()=>i,Q6:()=>s,U_:()=>c,on:()=>d,su:()=>f,Md:()=>b});var r=n(9145),a=n(2289),o=e([a]);a=(o.then?await o:o)[0];var i;!function(e){e[e.FILE_EXPLORER=0]="FILE_EXPLORER"}(i||(i={}));var s=Symbol("SHOW_OVERLAY"),c=Symbol("CLOSE_OVERLAY"),u=function(e,t){switch(t.type){case s:return t.data;case c:return e===i.FILE_EXPLORER&&a.gy(a.Ve.FileInput),null;default:return e}},l=r.createContext(null),_=r.createContext((function(){})),d=function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useReducer(u,null),2),n=t[0],a=t[1];return r.createElement(l.Provider,{value:n},r.createElement(_.Provider,{value:a},e.children))},f=function(){return r.useContext(l)},b=function(){return r.useContext(_)}}))},2097:(e,t,n)=>{n.a(e,(async e=>{n.d(t,{N:()=>h});var r=n(9542),a=n(2289),o=n(9145),i=n(157),s=n(8255),c=n(8744),u=n(5296),l=n(8308),_=e([i,r,a]);[i,r,a]=_.then?await _:_;var d=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},m=function(){function e(e,t,n){this._history=e,this._openFileExplorer=t,this._updateFile=n}return e.prototype.openFileExplorer=function(){this._openFileExplorer()},e.prototype.updateFileInfo=function(e){this._updateFile(JSON.parse(e))},e.prototype.readClipboardText=function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,navigator.clipboard.readText()];case 1:return[2,e.sent()]}}))}))},e.prototype.writeClipboardText=function(e){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,navigator.clipboard.writeText(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.pushInputToHistory=function(e){return d(this,void 0,void 0,(function(){return f(this,(function(t){return this._history.push(e),[2]}))}))},e}(),p=function(){var e=o.useCallback((function(e,t){a.SI(e||0,t||0)}),[]),t=(0,c.NB)({onResize:e}).ref;return o.createElement("div",{ref:t,className:l.Z.resizer})},h=function(e){var t=o.useRef(null),n=o.useRef(new u.B),c=r.su(),_=r.Md(),h=r.RI(),w=o.useRef(null),y=o.useRef(new m(n.current,(function(){return _({type:r.Q6,data:r.Pj.FILE_EXPLORER})}),(function(e){return h({type:r.sg,data:e})})));o.useEffect((function(){var r,o;console.assert(null!=t.current),a.$Z(t.current,y.current,{backgroundColor:"#333",withWebGL:(r=document.createElement("canvas"),o="probablySupportsContext"in r?"probablySupportsContext":"supportsContext",o in r?r[o]("webgl2"):"WebGL2RenderingContext"in window)}),d(void 0,void 0,void 0,(function(){var t;return f(this,(function(r){switch(r.label){case 0:return t=function(e,t){return d(void 0,void 0,void 0,(function(){var n,r;return f(this,(function(o){switch(o.label){case 0:return n="[1m",r="[m",a.NK(n+"[ RUN   ]"+r+" "+e),[4,t()];case 1:return o.sent(),a.NK(n+"[ OK    ]"+r+" "+e),[2]}}))}))},[4,t("Resolving DuckDB Bundle",(function(){return d(void 0,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return t=w,[4,e.resolveDatabase()];case 1:return t.current=n.sent(),[2]}}))}))}))];case 1:return r.sent(),[4,t("Loading Shell History",(function(){return d(void 0,void 0,void 0,(function(){var e,t,r;return f(this,(function(o){switch(o.label){case 0:return[4,n.current.open()];case 1:return o.sent(),[4,n.current.load()];case 2:return e=b.apply(void 0,[o.sent(),2]),t=e[0],r=e[1],a.UI(t,r),[2]}}))}))}))];case 2:return r.sent(),[4,t("Attaching Shell",(function(){return d(void 0,void 0,void 0,(function(){return f(this,(function(e){return a.gs(w.current),[2]}))}))}))];case 3:return r.sent(),[2]}}))}))}),[]);var E={padding:e.padding?""+e.padding.map((function(e){return e+"px"})).join(" "):"0px",borderRadius:e.borderRadius?""+e.borderRadius.map((function(e){return e+"px"})).join(" "):"0px",backgroundColor:e.backgroundColor||"transparent"};return o.createElement("div",{className:l.Z.root,style:E},o.createElement(p,null),o.createElement("div",{ref:t,className:l.Z.term_container}),c===r.Pj.FILE_EXPLORER&&o.createElement(s.a,null,o.createElement(i.e,{addLocalFiles:function(e){return d(void 0,void 0,void 0,(function(){var t,n,a,o;return f(this,(function(i){switch(i.label){case 0:if(!w.current)return[2];t=w.current,n=[],a=0,i.label=1;case 1:return a<e.length?(o=e.item(a),[4,t.dropFile(o.name)]):[3,5];case 2:return i.sent(),[4,t.registerFileHandle(o.name,o)];case 3:i.sent(),n.push({name:o.name,url:o.name,size:o.size,fileStatsEnabled:!1}),i.label=4;case 4:return++a,[3,1];case 5:return h({type:r.SI,data:n}),[2]}}))}))}})))}}))},356:(e,t,n)=>{n.d(t,{td:()=>a});var r;function a(e,t){void 0===t&&(t=r.SI);var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(t===r.SI?[1e3,"k","B"]:[1024,"K","iB"],3),a=n[0],o=n[1],i=n[2],s=Math.log(e)/Math.log(a)|0,c=Number((e/Math.pow(a,s)).toFixed(2));return c+" "+(s?(o+"MGTPEZY")[s-1]+i:"byte"+(1!==c?"s":""))}!function(e){e[e.SI=0]="SI",e[e.IEC=1]="IEC"}(r||(r={}))},5296:(e,t,n)=>{n.d(t,{B:()=>c});var r=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o="DUCKDB_WASM_SHELL_HISTORY",i="LOG_INFO",s="LOG_ENTRIES",c=function(){function e(){this._idbFactory=window.indexedDB,this._idb=null,this._nextEntryKey=0,this._entryCount=0}return e.prototype.load=function(){return r(this,void 0,void 0,(function(){var e,t,n,r=this;return a(this,(function(a){switch(a.label){case 0:return 0==this._entryCount?[2,[[],0]]:(e=this._idb.transaction([s,i],"readwrite"),t=e.objectStore(s),n=t.openCursor(),[4,new Promise((function(e,t){var a=[];n.onsuccess=function(t){var n=t.target;null!=n.result?(a.push(n.result.value.input),n.result.continue()):e([a,r._nextEntryKey])},n.onerror=t}))]);case 1:return[2,a.sent()]}}))}))},e.prototype.open=function(){return r(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return e=this,[4,new Promise((function(e,n){var r=t._idbFactory.open(o,4);r.onupgradeneeded=function(r){var a=r.target,o=a.result,i=a.transaction;t.createSchema(o),i.oncomplete=function(){return e(o)},i.onerror=function(e){return n(e)}},r.onsuccess=function(t){var n=r.result;e(n)},r.onerror=function(e){return n(e)}}))];case 1:return e._idb=n.sent(),[4,this.loadMetadata()];case 2:return n.sent(),[2]}}))}))},e.prototype.loadMetadata=function(){return r(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(e,n){var r=t._idb.transaction([i]).objectStore(i).get(0);r.onsuccess=function(t){return e(t.target.result||null)},r.onerror=function(t){console.warn(t),e(null)}}))];case 1:return e=n.sent(),this._nextEntryKey=(null==e?void 0:e.nextEntryKey)||0,this._entryCount=(null==e?void 0:e.entryCount)||0,[2]}}))}))},e.prototype.createSchema=function(e){e.objectStoreNames.contains(i)&&e.deleteObjectStore(i),e.objectStoreNames.contains(s)&&e.deleteObjectStore(s),e.createObjectStore(i,{keyPath:"key"}),e.createObjectStore(s,{keyPath:"key"})},e.prototype.reset=function(){var e;return r(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return null===(e=this._idb)||void 0===e||e.close(),this._idb=null,this._idbFactory.deleteDatabase(o),[4,this.open()];case 1:return t.sent(),[2]}}))}))},e.prototype.push=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,c=this;return a(this,(function(a){switch(a.label){case 0:return t=1023&this._nextEntryKey++,this._entryCount=Math.min(this._entryCount+1,1024),n=this._idb.transaction([s,i],"readwrite"),r=n.objectStore(i),o=n.objectStore(s),[4,Promise.all([new Promise((function(n,r){var a=o.put({key:t,when:new Date,input:e});a.onsuccess=n,a.onerror=r})),new Promise((function(e,t){var n=r.put({key:0,nextEntryKey:c._nextEntryKey,entryCount:c._entryCount});n.onsuccess=e,n.onerror=t}))])];case 1:return a.sent(),[2]}}))}))},e}()},9161:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-async-next-coi.pthread.worker.18d974d1f0d82f8be53d.js"},7780:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-async-next-coi.worker.8b463d21a1e8c7facdf8.js"},5202:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-async-next.worker.99bbf5f589f4777b3d38.js"},7369:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-async.worker.4a14c879b112b4aa30d9.js"},2593:(e,t,n)=>{e.exports=n.p+"static/img/book.cee8d5e89b78252361aa..svg"},4734:(e,t,n)=>{e.exports=n.p+"static/img/close.eae292d876e449b1e891..svg"},526:(e,t,n)=>{e.exports=n.p+"static/img/data-matrix-scan.ae07a3a496ae265c7b8d..svg"},329:(e,t,n)=>{e.exports=n.p+"static/img/minus.577d461225b9552d4481..svg"},9643:(e,t,n)=>{e.exports=n.p+"static/img/shell.44adb131819504541d01..svg"},6513:(e,t,n)=>{e.exports=n.p+"static/img/duckdb.b70fb6c3629c5061da77..svg"},5079:(e,t,n)=>{e.exports=n.p+"static/wasm/duckdb-next-coi.aa632428b108b11d09fe..wasm"},6795:(e,t,n)=>{e.exports=n.p+"static/wasm/duckdb-next.e0fb374cf6a50ca097fc..wasm"},9117:(e,t,n)=>{e.exports=n.p+"static/wasm/duckdb.e4d3a899112ab09ccc60..wasm"},8968:(e,t,n)=>{var r=([r])=>n.v(t,e.id,"93c877bf3c6bdbc1a721",{"./shell_bg.js":{__wbg_setcursorBlink_a86479d2e1c79045:r.y1,__wbg_setcursorWidth_33b9ca879009416e:r.fc,__wbg_setdrawBoldTextInBrightColors_fd29f92ff197d87d:r.Z_,__wbg_setfontSize_2390052bdfa0951f:r.ie,__wbg_setrightClickSelectsWord_b360a1259d32073b:r.NP,__wbg_setrows_869f76d0b575783a:r.h3,__wbg_settheme_8e79c01462f90cdf:r.DW,__wbg_setforeground_edd982f95949c129:r.bK,__wbg_setbackground_24012fa04dc675fc:r.GR,__wbg_setbrightYellow_862f40b15257431a:r.po,__wbg_construct_9d9938ba79ea4475:r.R0,__wbg_cols_f4f2fd6e0933a109:r.X3,__wbg_focus_5fff41e8198ad0b4:r.vq,__wbg_open_c7703947d6302f6c:r.JO,__wbg_attachCustomKeyEventHandler_9c38a062a62eddd5:r.Pv,__wbg_write_167ebfb900d36862:r.Ub,__wbg_setOption_ca4753aa51a9406f:r.aU,__wbg_loadAddon_0d8374e2ad409924:r.FN,__wbg_offsets_b3b1bdd37d9a4f30:r.f4,__wbg_types_cc4d77772fac0646:r.O2,__wbindgen_object_drop_ref:r.ug,__wbg_instanceof_WebLinksAddon_fbcf4efb54881c53:r.jo,__wbg_instanceof_WebglAddon_c39f68697a31af73:r.aH,__wbg_static_accessor_PACKAGE_NAME_da91149963a32187:r.yj,__wbg_static_accessor_PACKAGE_VERSION_8aa2f518d9081bf5:r.bM,__wbg_bigInt64Array_c5434225e36e999d:r.fF,__wbg_wasmThreads_ee9dc3f62d002e58:r.Ou,__wbg_wasmExceptions_fd3690b4fcea2b6c:r.zd,__wbg_wasmSIMD_65312a153e3a0ea1:r.Wk,__wbg_wasmBulkMemory_42658b625c12cf27:r.u4,__wbg_crossOriginIsolated_8ef3a49137dfb764:r.c7,__wbg_getVersion_498e84d9ed3a6710:r.MH,__wbg_collectFileStatistics_d5bb7163392f63a7:r.z5,__wbg_connectInternal_2a301658fb915262:r.y2,__wbg_getFeatureFlags_3fbe38b898027f8e:r.W4,__wbg_open_1c24085b4339ac18:r.wI,__wbg_getPlatformFeatures_c95d7aa09758c47e:r.ly,__wbg_disconnect_503fc005d621c8c7:r.bL,__wbg_readClipboardText_cdb76d02b35ab9d4:r.if,__wbg_pushInputToHistory_be6169df38305347:r.$M,__wbg_runQuery_73797dc478f1bce2:r.wE,__wbg_tokenize_17d3fb98b81f8e3b:r.WY,__wbg_exportFileStatistics_047e5ff39e3cd97e:r.PT,__wbg_backgroundColor_13124d7a2f6922da:r.oM,__wbg_withWebGL_23ecf5d40e6afbed:r.gk,__wbg_new_58c6288db0a82870:r.VL,__wbindgen_object_clone_ref:r.m_,__wbg_new_6bf4fb65423e34f9:r.Yr,__wbg_new_670d6f7b0bfae3ee:r.Mb,__wbg_fit_fea2302f520fa7cc:r.KI,__wbindgen_cb_drop:r.G6,__wbg_log_39e5c6dfbf35ce2a:r.Bu,__wbg_error_e42d6a50bd4cd544:r.Am,__wbg_warn_8c6115cb2bc8bed9:r.PF,__wbg_blockStats_b4d97ec10e70983d:r.xF,__wbg_totalFileWrites_bbaee851a41a14ff:r.u3,__wbg_totalFileReadsAhead_ddd1fa3f99bbb6b5:r.wi,__wbg_totalFileReadsCold_1db94cbad8a68e51:r.dJ,__wbg_totalFileReadsCached_47f56ad6f5eea3e2:r.SO,__wbg_totalPageAccesses_872b05c6d29a292d:r.Dp,__wbg_totalPageLoads_f735ffd254650c2a:r.ZH,__wbg_blockSize_672ac525e53ba36d:r.Pb,__wbg_openFileExplorer_b737860b77d8e260:r.Re,__wbg_updateFileInfo_cf74e873b21c6b77:r.b1,__wbg_instanceof_Window_11e25482011fc506:r.s8,__wbg_performance_9d1ecf711183e1d5:r.pV,__wbg_now_44a034aa2e1d73dd:r.OK,__wbg_type_55a19f61b3198ce6:r.WD,__wbg_ctrlKey_8fa508d0b540bc8f:r.Q_,__wbg_metaKey_d60075e40f8f06d7:r.Gx,__wbg_key_6827d862c9cc3928:r.mR,__wbg_get_b7bbf50adcc94294:r.Zo,__wbg_length_555f836564bf148d:r.Fp,__wbg_call_ba36642bd901572b:r.qw,__wbg_new_3e1ee746fe308c9f:r.V8,__wbg_message_e440fbd911a845a2:r.MY,__wbg_newnoargs_9fdd8f3961dd1bee:r.UL,__wbg_call_3fc07b7d5fc9022d:r.tw,__wbg_new_edbe38a4e21329dd:r.xX,__wbg_new_c143a4f563f78c4e:r.Y4,__wbg_resolve_cae3d8f752f5db88:r.Xb,__wbg_then_c2361a9d5c9a4fcb:r.g1,__wbg_then_6c9a4bf55755f9b8:r.KA,__wbg_self_bb69a836a72ec6e9:r.tS,__wbg_window_3304fc4b414c9693:r.R$,__wbg_globalThis_e0d21cabc6630763:r.md,__wbg_global_8463719227271676:r.IF,__wbindgen_is_undefined:r.XP,__wbg_buffer_9e184d6f785de5ed:r.zP,__wbg_length_2d56cb37075fcfb1:r.uQ,__wbg_new_e8101319e4cf95fc:r.td,__wbg_set_e8ae7b27314e8b98:r.Ct,__wbindgen_number_get:r.M1,__wbindgen_string_get:r.qt,__wbindgen_debug_string:r.fY,__wbindgen_throw:r.Or,__wbindgen_rethrow:r.nD,__wbindgen_memory:r.oH,__wbindgen_closure_wrapper427:r.TA,__wbindgen_closure_wrapper786:r.E5}});n.a(e,(e=>{var t=e([n(2289)]);return t.then?t.then(r):r(t)}),1)}}]);